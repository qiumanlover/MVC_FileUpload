var http=require("http"),querystring=require("querystring"),util=require("util"),buffer=require("buffer"),fs=require("fs");http.createServer(function(e,n){e.on("data",function(e){console.log("buffer type: "+typeof buffer),buffer=e,console.log(e),console.log("chunk type: "+typeof e),console.log("chunk length: "+e.length),console.log(buffer),console.log("buffer type: "+typeof buffer),console.log("buffer length: "+buffer.length),console.log(buffer.length),console.log()}),e.on("end",function(){var e=buffer.toString();console.log(e.length);for(var r,t,o=/ name="(\w+\b)"\r\n\r\n(\w+)\r\n-/g;r=o.exec(e);)console.log(r[1]+"    "+r[2]);o=/name="data"; filename="(.+\.\w+)"\r\nContent-Type:/g,r=o.exec(e),t=r[1],console.log(t);var f=e.match(/Content-Type:.*/g)[0],l=e.indexOf("Content-Type:")+f.length+4;e=strao.substr(l),e=e.substring(0,e.indexOf("\r\n-")-2),fs.open("D:\\"+t,"w",420,function(n,o){if(n)throw n;fs.write(o,e.substr(0,e.length-2),function(e){if(e)throw e;fs.closeSync(o)})}),buffer=new Buffer(0),n.end(util.inspect(buffer))})}).listen(3e3),console.log("HTTP server is listening at port 3000.");